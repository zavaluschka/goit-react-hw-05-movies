{"version":3,"file":"static/js/530.2c728434.chunk.js","mappings":"8PACA,GAAgB,UAAY,0BAA0B,UAAY,0BAA0B,aAAe,6BAA6B,eAAiB,+BAA+B,WAAa,2BAA2B,aAAe,6BAA6B,kBAAoB,kCAAkC,eAAiB,+BAA+B,qBAAuB,qCAAqC,QAAU,wBAAwB,YAAc,6B,kBCsG9d,EAhGe,WAAO,IAADA,EAAAC,EACnBC,GAAkCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1CI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAA8BL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAsCT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAE1BG,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QAA2B,QAArBrB,EAAe,QAAfC,EAACiB,EAASI,aAAK,IAAArB,OAAA,EAAdA,EAAgBsB,YAAI,IAAAvB,EAAAA,EAAI,WAoBhD,OAlBAwB,EAAAA,EAAAA,YAAU,WACiB,SAAAC,IAYxB,OAZwBA,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAzB,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEuB,OAFvBF,EAAAC,KAAA,EAEIxB,GAAa,GAAMuB,EAAAE,KAAA,GAEIC,EAAAA,EAAAA,IAAgBjB,GAAS,KAAD,EAAzCa,EAAQC,EAAAI,KACdnB,EAAec,GACftB,GAAa,GAAOuB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAEpBM,QAAQC,IAAIP,EAAAK,GAAMG,SAClB3B,GAAW,GACXJ,GAAa,GAAO,yBAAAuB,EAAAS,OAAA,GAAAX,EAAA,mBAEvBY,MAAA,KAAAC,UAAA,EAbc,WACUhB,EAAAe,MAAC,KAADC,UAAA,CAczBC,EACF,GAAG,CAAC1B,KAGF2B,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,UAAkBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,UAAQH,UAAWC,EAAAA,UAAkBC,UACnCC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAI7B,EAAS8B,QAAQJ,UACzBC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,aAAqBC,SAAC,gBAG1CxC,IAAayC,EAAAA,EAAAA,KAACI,EAAAA,EAAM,IACpBzC,IACCqC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,MAAcC,SAAC,6CAIjChC,IACC6B,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,eAAuBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAAA,WAAmBC,UACjCC,EAAAA,EAAAA,KAAA,OACEH,UAAWC,EAAAA,WACXO,IAAG,GAAAC,OAzCE,mCAyCWA,OAAGvC,EAAYwC,KAAKC,aACpCC,IAAK1C,EAAYwC,KAAKG,WAI1Bd,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,aAAqBC,SAAA,EACnCH,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAAA,kBAA0BC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,eAAuBC,SAAC,eACxChC,EAAYwC,KAAKI,aAGpBf,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAAA,kBAA0BC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,eAAuBC,SAAC,aACxChC,EAAYwC,KAAKK,OAAOC,KAAI,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAIF,EAAJE,KAAI,OACtCpB,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAAA,qBAA6BC,SAAA,CAC3CiB,EAAK,SAD4CD,EAE7C,QAGXnB,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAAA,kBAA0BC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,eAAuBC,SAAC,cACxChC,EAAYwC,KAAKU,iBAGpBrB,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAAA,kBAA0BC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAAA,eAAuBC,SAAC,mBACxChC,EAAYwC,KAAKW,oBAGtBtB,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAAA,QAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACJ,UAAWC,EAAAA,YAAqBI,GAAG,OAAMH,SAAC,YAIlDC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACJ,UAAWC,EAAAA,YAAqBI,GAAG,UAASH,SAAC,qBAQ3DC,EAAAA,EAAAA,KAACmB,EAAAA,SAAQ,CAACC,UAAUpB,EAAAA,EAAAA,KAACI,EAAAA,EAAM,IAAIL,UAC7BC,EAAAA,EAAAA,KAACqB,EAAAA,GAAM,QAIf,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__hb-lD\",\"goBackBtn\":\"Movies_goBackBtn__v21q7\",\"goBackBtnTag\":\"Movies_goBackBtnTag__maZey\",\"detailsWrapper\":\"Movies_detailsWrapper__mL4dK\",\"detailsImg\":\"Movies_detailsImg__AaNxw\",\"detailsDescr\":\"Movies_detailsDescr__wXZjc\",\"detailsDescrTitle\":\"Movies_detailsDescrTitle__CPl8M\",\"detailsSummary\":\"Movies_detailsSummary__CZMd4\",\"detailsSummaryGenres\":\"Movies_detailsSummaryGenres__aaR0x\",\"buttons\":\"Movies_buttons__jE+XE\",\"buttonsItem\":\"Movies_buttonsItem__258Wi\"};","import { getMovieDetails } from 'Api';\nimport React, { useState, useEffect, useRef, Suspense } from 'react';\n\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport details from './Movies.module.css';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [detailsData, setDetailsData] = useState(null);\n  const BASE_IMG = 'https://image.tmdb.org/t/p/w300';\n  const { movieId } = useParams();\n  const location = useLocation();\n  const linkBack = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    async function getDetails() {\n      try {\n        setIsLoading(true);\n\n        const response = await getMovieDetails(movieId);\n        setDetailsData(response);\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error.message);\n        setIsError(true);\n        setIsLoading(false);\n      }\n    }\n\n    getDetails();\n  }, [movieId]);\n\n  return (\n    <div className={details.container}>\n      <button className={details.goBackBtn}>\n        <Link to={linkBack.current}>\n          <span className={details.goBackBtnTag}>Go back</span>\n        </Link>\n      </button>\n      {isLoading && <Loader />}\n      {isError && (\n        <span className={details.error}>\n          Error occurred, try again in few seconds\n        </span>\n      )}\n      {detailsData && (\n        <div className={details.detailsWrapper}>\n          <div className={details.imgWrapper}>\n            <img\n              className={details.detailsImg}\n              src={`${BASE_IMG}${detailsData.data.poster_path}`}\n              alt={detailsData.data.title}\n            />\n          </div>\n\n          <div className={details.detailsDescr}>\n            <p className={details.detailsDescrTitle}>\n              <span className={details.detailsSummary}>Overview: </span>\n              {detailsData.data.overview}\n            </p>\n\n            <p className={details.detailsDescrTitle}>\n              <span className={details.detailsSummary}>Genres: </span>\n              {detailsData.data.genres.map(({ id, name }) => (\n                <span className={details.detailsSummaryGenres} key={id}>\n                  {name}&nbsp;\n                </span>\n              ))}\n            </p>\n            <p className={details.detailsDescrTitle}>\n              <span className={details.detailsSummary}>Avarage: </span>\n              {detailsData.data.vote_average}\n            </p>\n\n            <p className={details.detailsDescrTitle}>\n              <span className={details.detailsSummary}>Release Date: </span>\n              {detailsData.data.release_date}\n            </p>\n          </div>\n          <ul className={details.buttons}>\n            <li>\n              <Link className={details.buttonsItem} to=\"cast\">\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link className={details.buttonsItem} to=\"reviews\">\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </div>\n      )}\n\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","isError","setIsError","_useState5","_useState6","detailsData","setDetailsData","movieId","useParams","location","useLocation","linkBack","useRef","state","from","useEffect","_getDetails","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","getMovieDetails","sent","t0","console","log","message","stop","apply","arguments","getDetails","_jsxs","className","details","children","_jsx","Link","to","current","Loader","src","concat","data","poster_path","alt","title","overview","genres","map","_ref","id","name","vote_average","release_date","Suspense","fallback","Outlet"],"sourceRoot":""}