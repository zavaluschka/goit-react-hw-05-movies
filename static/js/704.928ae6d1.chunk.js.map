{"version":3,"file":"static/js/704.928ae6d1.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieSearch.module.css?d092","pages/MovieSearch.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"itemLink\":\"MovieItem_itemLink__J99fA\",\"itemImg\":\"MovieItem_itemImg__2SZap\",\"descrWrapper\":\"MovieItem_descrWrapper__hZBgV\",\"itemRating\":\"MovieItem_itemRating__Ipfr2\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport item from './MovieItem.module.css';\nexport const MovieItem = ({ id, poster_path, title, vote_average }) => {\n  const location = useLocation();\n  const BASE_IMG = 'https://image.tmdb.org/t/p/w300';\n\n  return (\n    <li className={item.item} key={id}>\n      <Link\n        className={item.itemLink}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        <img\n          className={item.itemImg}\n          src={`${BASE_IMG}${poster_path}`}\n          alt={title}\n        />\n        <div className={item.descrWrapper}>\n          <h3 className={item.itemTitle}>{title}</h3>\n          <p className={item.itemRating}>Rating: {vote_average}</p>\n        </div>\n      </Link>\n    </li>\n  );\n};","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__uFrOZ\"};","import React from 'react';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\nimport movieList from './MovieList.module.css';\n\nexport const MovieList = ({ moviesData }) => {\n  return (\n    <ul className={movieList.movieList}>\n      {moviesData.map(({ id, poster_path, title, vote_average }) => (\n        <MovieItem\n          key={id}\n          poster_path={poster_path}\n          title={title}\n          vote_average={vote_average}\n          id={id}\n        />\n      ))}\n    </ul>\n  );\n};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieSearch_container__roPlL\",\"searchWrapper\":\"MovieSearch_searchWrapper__yyObU\",\"searchPrg\":\"MovieSearch_searchPrg__275z7\",\"searchInput\":\"MovieSearch_searchInput__U3Wd9\",\"loadMore\":\"MovieSearch_loadMore__k1F2v\"};","import React, { useState, useEffect } from 'react';\nimport { getSearchMovie } from 'Api';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { Loader } from 'components/Loader/Loader';\nimport { useSearchParams } from 'react-router-dom';\nimport movieSearch from './MovieSearch.module.css';\n\nconst MovieSearch = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const [moviesQuery, setMoviesQuery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) return setLoadMore(false);\n  }, [query]);\n\n  useEffect(() => {\n    if (!query) return setMoviesQuery([]);\n\n    async function getMovies() {\n      try {\n        setIsLoading(true);\n        setIsError(false);\n\n        const response = await getSearchMovie(query, page);\n\n        if (page === 1) {\n          setMoviesQuery(response.data.results);\n        } else {\n          setMoviesQuery(movies => [...movies, ...response.data.results]);\n          setLoadMore(\n            response.data.total_pages <\n              Math.ceil(response.data.total_result / 20)\n          );\n        }\n        setLoadMore(true);\n        setIsLoading(false);\n      } catch {\n        setIsError(true);\n        setIsLoading(false);\n      }\n    }\n\n    getMovies();\n  }, [searchParams, page, query]);\n\n  const onLoadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  const queryRequest = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: e.target.value });\n  };\n\n  return (\n    <div className={movieSearch.container}>\n      <div className={movieSearch.searchWrapper}>\n        <p className={movieSearch.searchPrg}>Search</p>\n        <input\n          className={movieSearch.searchInput}\n          type=\"text\"\n          placeholder=\"Type in the movie/show name\"\n          value={query}\n          onChange={queryRequest}\n        />\n      </div>\n      {isLoading && <Loader />}\n      {isError ? (\n        <span className={movieSearch.error}>\n          Error occurred, try again in few seconds\n        </span>\n      ) : (\n        moviesQuery.length > 0 && <MovieList moviesData={moviesQuery} />\n      )}\n      {loadMore && (\n        <button\n          className={movieSearch.loadMore}\n          type=\"button\"\n          onClick={onLoadMore}\n        >\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default MovieSearch;"],"names":["MovieItem","_ref","id","poster_path","title","vote_average","location","useLocation","_jsx","className","item","children","_jsxs","Link","to","concat","state","from","src","alt","MovieList","moviesData","movieList","map","_ref2","_searchParams$get","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","isError","setIsError","_useState5","_useState6","loadMore","setLoadMore","_useState7","_useState8","moviesQuery","setMoviesQuery","_useState9","_useState10","page","setPage","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useEffect","_getMovies","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","getSearchMovie","sent","data","results","movies","_toConsumableArray","total_pages","Math","ceil","total_result","t0","stop","apply","arguments","getMovies","movieSearch","type","placeholder","value","onChange","e","target","Loader","length","onClick"],"sourceRoot":""}