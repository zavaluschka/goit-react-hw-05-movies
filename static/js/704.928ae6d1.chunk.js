"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[704],{217:function(e,t,a){a.d(t,{e:function(){return u}});a(791);var r=a(689),n=a(87),s={itemLink:"MovieItem_itemLink__J99fA",itemImg:"MovieItem_itemImg__2SZap",descrWrapper:"MovieItem_descrWrapper__hZBgV",itemRating:"MovieItem_itemRating__Ipfr2"},i=a(184),c=function(e){var t=e.id,a=e.poster_path,c=e.title,o=e.vote_average,u=(0,r.TH)();return(0,i.jsx)("li",{className:s.item,children:(0,i.jsxs)(n.rU,{className:s.itemLink,to:"/movies/".concat(t),state:{from:u},children:[(0,i.jsx)("img",{className:s.itemImg,src:"".concat("https://image.tmdb.org/t/p/w300").concat(a),alt:c}),(0,i.jsxs)("div",{className:s.descrWrapper,children:[(0,i.jsx)("h3",{className:s.itemTitle,children:c}),(0,i.jsxs)("p",{className:s.itemRating,children:["Rating: ",o]})]})]})},t)},o="MovieList_movieList__uFrOZ",u=function(e){var t=e.moviesData;return(0,i.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,a=e.poster_path,r=e.title,n=e.vote_average;return(0,i.jsx)(c,{poster_path:a,title:r,vote_average:n,id:t},t)}))})}},704:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var r=a(433),n=a(861),s=a(439),i=a(757),c=a.n(i),o=a(791),u=a(797),l=a(217),h=a(172),p=a(87),_={container:"MovieSearch_container__roPlL",searchWrapper:"MovieSearch_searchWrapper__yyObU",searchPrg:"MovieSearch_searchPrg__275z7",searchInput:"MovieSearch_searchInput__U3Wd9",loadMore:"MovieSearch_loadMore__k1F2v"},m=a(184),v=function(){var e,t=(0,o.useState)(!1),a=(0,s.Z)(t,2),i=a[0],v=a[1],d=(0,o.useState)(!1),f=(0,s.Z)(d,2),g=f[0],x=f[1],j=(0,o.useState)(!1),M=(0,s.Z)(j,2),N=M[0],S=M[1],Z=(0,o.useState)([]),k=(0,s.Z)(Z,2),I=k[0],y=k[1],w=(0,o.useState)(1),b=(0,s.Z)(w,2),L=b[0],W=b[1],C=(0,p.lr)(),P=(0,s.Z)(C,2),R=P[0],E=P[1],T=null!==(e=R.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){if(!T)return S(!1)}),[T]),(0,o.useEffect)((function(){if(!T)return y([]);function e(){return(e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),x(!1),e.next=5,(0,u.gH)(T,L);case 5:t=e.sent,1===L?y(t.data.results):(y((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t.data.results))})),S(t.data.total_pages<Math.ceil(t.data.total_result/20))),S(!0),v(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),x(!0),v(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[R,L,T]);return(0,m.jsxs)("div",{className:_.container,children:[(0,m.jsxs)("div",{className:_.searchWrapper,children:[(0,m.jsx)("p",{className:_.searchPrg,children:"Search"}),(0,m.jsx)("input",{className:_.searchInput,type:"text",placeholder:"Type in the movie/show name",value:T,onChange:function(e){if(""===e.target.value)return E({});E({query:e.target.value})}})]}),i&&(0,m.jsx)(h.a,{}),g?(0,m.jsx)("span",{className:_.error,children:"Error occurred, try again in few seconds"}):I.length>0&&(0,m.jsx)(l.e,{moviesData:I}),N&&(0,m.jsx)("button",{className:_.loadMore,type:"button",onClick:function(){W((function(e){return e+1}))},children:"Load More"})]})}}}]);
//# sourceMappingURL=704.928ae6d1.chunk.js.map